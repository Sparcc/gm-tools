function median(numbers) {
  // median of [3, 5, 4, 4, 1, 1, 2, 3] = 3
  var median = 0, numsLen = numbers.length;
  numbers.sort();

  if (
      numsLen % 2 === 0 // is even
  ) {
      // average of two middle numbers
      median = (numbers[numsLen / 2 - 1] + numbers[numsLen / 2]) / 2;
  } else { // is odd
      // middle number only
      median = numbers[(numsLen - 1) / 2];
  }

  return median;
}

var hpRange = [['-1','9','8-7','6-5'],
['0','20-17','16-14','13-11'],
['1','26-24','21-19','16-14'],
['2','40-36','32-28','25-21'],
['3','59-53','48-42','37-31'],
['4','78-72','63-57','48-42'],
['5','97-91','78-72','59-53'],
['6','123-115','99-91','75-67'],
['7','148-140','119-111','90-82'],
['8','173-165','139-131','105-97'],
['9','198-190','159-151','120-112'],
['10','223-215','179-171','135-127'],
['11','248-240','199-191','150-142'],
['12','273-265','219-211','165-157'],
['13','298-290','239-231','180-172'],
['14','323-315','259-251','195-187'],
['15','348-340','279-271','210-202'],
['16','373-365','299-291','225-217'],
['17','398-390','319-311','240-232'],
['18','423-415','339-331','255-247'],
['19','448-440','359-351','270-262'],
['20','473-465','379-371','285-277'],
['21','505-495','405-395','305-295'],
['22','544-532','436-424','329-317'],
['23','581-569','466-454','351-339'],
['24','633-617','508-492','383-367']];

readonly resistanceWeakness = 
[[-1,1,1],
[0,3,1],
[1,3,2],
[2,5,2],
[3,6,3],
[4,7,4],
[5,8,4],
[6,9,5],
[7,10,5],
[8,11,6],
[9,12,6],
[10,13,7],
[11,14,7],
[12,15,8],
[13,16,8],
[14,17,9],
[15,18,9],
[16,19,9],
[17,19,10],
[18,20,10],
[19,21,11],
[20,22,11],
[21,23,12],
[22,24,12],
[23,25,13],
[24,26,13]];

var newHpRange = [];
hpRange.forEach(row => {
  var newRow = [];
  row.forEach(cell => {
    var rangePat = /(\d\d?\d?)-(\d\d?\d?)/;
    if (rangePat.test(cell)){
      var matchRes = cell.match(rangePat);
      //console.log(matchRes[1])
      newRow.push((matchRes[2]-matchRes[1]/2).toFixed(0));
    } else {
      newRow.push(cell);
    }
    
  });
  newHpRange.push(newRow);
});

console.log(newHpRange);

